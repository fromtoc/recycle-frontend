(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d210a2f"],{b979:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"users"}},[r("el-breadcrumb",{staticStyle:{"padding-left":"10px","padding-bottom":"10px","font-size":"12px"},attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首頁")]),r("el-breadcrumb-item",[e._v("系统管理")]),r("el-breadcrumb-item",[e._v("用戶管理")])],1),r("el-card",{staticClass:"box-card"},[r("el-form",{ref:"form",attrs:{inline:!0,model:e.queryMap,"label-width":"70px",size:"small"}},[r("el-form-item",{attrs:{label:"公司"}},[r("el-select",{attrs:{clearable:"",placeholder:"請選擇所屬公司"},on:{change:e.searchUser,clear:e.searchUser},model:{value:e.queryMap.departmentId,callback:function(t){e.$set(e.queryMap,"departmentId",t)},expression:"queryMap.departmentId"}},e._l(e.departments,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[r("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),r("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[r("el-tag",{attrs:{size:"small",effect:"plain",type:"success"}},[e._v(" "+e._s(t.total)+"人 ")])],1)])})),1)],1),r("el-form-item",{attrs:{label:"帳號"}},[r("el-input",{attrs:{clearable:"",placeholder:"請輸入帳號查詢"},on:{clear:e.searchUser},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchUser.apply(null,arguments)}},model:{value:e.queryMap.username,callback:function(t){e.$set(e.queryMap,"username",t)},expression:"queryMap.username"}})],1),r("el-form-item",{attrs:{label:"郵箱"}},[r("el-input",{attrs:{clearable:"",placeholder:"請輸入郵箱查詢"},on:{clear:e.searchUser},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchUser.apply(null,arguments)}},model:{value:e.queryMap.email,callback:function(t){e.$set(e.queryMap,"email",t)},expression:"queryMap.email"}})],1),r("el-form-item",{attrs:{label:"性別"}},[r("el-radio",{attrs:{label:"1"},model:{value:e.queryMap.sex,callback:function(t){e.$set(e.queryMap,"sex",t)},expression:"queryMap.sex"}},[e._v("男")]),r("el-radio",{attrs:{label:"0"},model:{value:e.queryMap.sex,callback:function(t){e.$set(e.queryMap,"sex",t)},expression:"queryMap.sex"}},[e._v("女")]),r("el-radio",{attrs:{label:""},model:{value:e.queryMap.sex,callback:function(t){e.$set(e.queryMap,"sex",t)},expression:"queryMap.sex"}},[e._v("全部")])],1),r("el-form-item",{attrs:{label:"名稱"}},[r("el-input",{attrs:{clearable:"",placeholder:"請輸入名稱查詢"},on:{clear:e.searchUser},model:{value:e.queryMap.nickname,callback:function(t){e.$set(e.queryMap,"nickname",t)},expression:"queryMap.nickname"}})],1),r("el-form-item",{staticStyle:{"margin-left":"50px"}},[r("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.reset}},[e._v("重置")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchUser}},[e._v("查詢")]),r("el-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"user:add",expression:"'user:add'"}],attrs:{type:"success",icon:"el-icon-plus"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("新增")]),r("el-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"user:export",expression:"'user:export'"}],attrs:{icon:"el-icon-download"},on:{click:e.downExcel}},[e._v("導出")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.userList,border:"",height:"420"}},[r("el-table-column",{attrs:{label:"#",prop:"id",width:"50"}}),r("el-table-column",{attrs:{prop:"username",label:"帳號",width:"110"}}),r("el-table-column",{attrs:{prop:"sex",formatter:e.showSex,label:"性別",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.sex?r("el-tag",{attrs:{size:"small",type:"success"}},[e._v("帥哥")]):r("el-tag",{attrs:{size:"small",type:"warning"}},[e._v("美女")])]}}])}),r("el-table-column",{attrs:{prop:"departmentName",label:"所屬公司",width:"180",sortable:""}}),r("el-table-column",{attrs:{prop:"birth",label:"生日",width:"180",sortable:""}}),r("el-table-column",{attrs:{prop:"email",label:"郵箱",width:"180"}}),r("el-table-column",{attrs:{prop:"phoneNumber",label:"電話",width:"150"}}),r("el-table-column",{attrs:{prop:"isban",label:"是否禁用",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{on:{change:function(r){return e.changUserStatus(t.row)}},model:{value:t.row.status,callback:function(r){e.$set(t.row,"status",r)},expression:"scope.row.status"}})]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"user:edit",expression:"'user:edit'"}],attrs:{size:"small",type:"primary",icon:"el-icon-edit-outline"},on:{click:function(r){return e.edit(t.row.id)}}}),r("el-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"user:delete",expression:"'user:delete'"}],attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(r){return e.del(t.row.id)}}}),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分配角色",placement:"top",enterable:!1}},[r("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-s-tools"},on:{click:function(r){return e.assignRoles(t.row.id)}}})],1)]}}])})],1),r("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"","current-page":e.queryMap.pageNo,"page-sizes":[6,10,20,30],"page-size":e.queryMap.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),r("el-dialog",{attrs:{title:"新增用戶",visible:e.addDialogVisible,width:"50%;"},on:{close:e.closeDialog,"update:visible":function(t){e.addDialogVisible=t}}},[r("span",[r("el-form",{ref:"addFormRef",attrs:{model:e.addForm,"label-position":e.labelPosition,rules:e.addFormRules,"label-width":"80px"}},[r("el-row",[r("el-col",{attrs:{span:10}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"帳號",prop:"username"}},[r("el-input",{model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1)],1)]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-light"},[r("el-form-item",{attrs:{label:"公司",prop:"departmentId"}},[r("el-select",{attrs:{placeholder:"請選擇所屬公司"},model:{value:e.addForm.departmentId,callback:function(t){e.$set(e.addForm,"departmentId",t)},expression:"addForm.departmentId"}},e._l(e.departments,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)])],1),r("el-row",[r("el-col",{attrs:{span:10}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"名稱",prop:"nickname"}},[r("el-input",{model:{value:e.addForm.nickname,callback:function(t){e.$set(e.addForm,"nickname",t)},expression:"addForm.nickname"}})],1)],1)]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-light"},[r("el-form-item",{attrs:{label:"性別",prop:"sex"}},[r("el-radio-group",{model:{value:e.addForm.sex,callback:function(t){e.$set(e.addForm,"sex",t)},expression:"addForm.sex"}},[r("el-radio",{attrs:{label:1}},[e._v("帥哥")]),r("el-radio",{attrs:{label:0}},[e._v("美女")])],1)],1)],1)])],1),r("el-form-item",{attrs:{label:"密碼",prop:"password"}},[r("el-input",{model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),r("el-form-item",{attrs:{label:"郵箱",prop:"email"}},[r("el-input",{model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),r("el-form-item",{attrs:{label:"手機",prop:"phoneNumber"}},[r("el-input",{model:{value:e.addForm.phoneNumber,callback:function(t){e.$set(e.addForm,"phoneNumber",t)},expression:"addForm.phoneNumber"}})],1),r("el-form-item",{attrs:{prop:"birth",label:"生日"}},[r("el-col",{attrs:{span:11}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy年MM月dd日",placeholder:"選擇出生日期"},model:{value:e.addForm.birth,callback:function(t){e.$set(e.addForm,"birth",t)},expression:"addForm.birth"}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",loading:e.btnLoading,disabled:e.btnDisabled},on:{click:e.addUser}},[e._v("確 定")])],1)]),r("el-dialog",{attrs:{title:"修改用戶",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editClose}},[r("span",[r("el-form",{ref:"editFormRef",attrs:{model:e.editForm,"label-position":e.labelPosition,rules:e.addFormRules,"label-width":"80px"}},[r("el-row",[r("el-col",{attrs:{span:10}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"帳號",prop:"username"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.editForm.username,callback:function(t){e.$set(e.editForm,"username",t)},expression:"editForm.username"}}),r("el-input",{staticStyle:{display:"none"},attrs:{type:"hidden",disabled:!0},model:{value:e.editForm.id,callback:function(t){e.$set(e.editForm,"id",t)},expression:"editForm.id"}})],1)],1)]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-light"},[r("el-form-item",{attrs:{label:"公司",prop:"departmentId"}},[r("el-select",{attrs:{placeholder:"請選擇所屬公司"},model:{value:e.editForm.departmentId,callback:function(t){e.$set(e.editForm,"departmentId",t)},expression:"editForm.departmentId"}},e._l(e.departments,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)])],1),r("el-row",[r("el-col",{attrs:{span:10}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"名稱",prop:"nickname"}},[r("el-input",{model:{value:e.editForm.nickname,callback:function(t){e.$set(e.editForm,"nickname",t)},expression:"editForm.nickname"}})],1)],1)]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-light"},[r("el-form-item",{attrs:{label:"性別",prop:"sex"}},[r("el-radio-group",{model:{value:e.editForm.sex,callback:function(t){e.$set(e.editForm,"sex",t)},expression:"editForm.sex"}},[r("el-radio",{attrs:{label:1}},[e._v("帥哥")]),r("el-radio",{attrs:{label:0}},[e._v("美女")])],1)],1)],1)])],1),r("el-form-item",{attrs:{label:"郵箱",prop:"email"}},[r("el-input",{model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1),r("el-form-item",{attrs:{label:"聯繫方式",prop:"phoneNumber"}},[r("el-input",{model:{value:e.editForm.phoneNumber,callback:function(t){e.$set(e.editForm,"phoneNumber",t)},expression:"editForm.phoneNumber"}})],1),r("el-form-item",{attrs:{prop:"birth",label:"生日"}},[r("el-col",{attrs:{span:11}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy年MM月dd日",placeholder:"選擇出生日期"},model:{value:e.editForm.birth,callback:function(t){e.$set(e.editForm,"birth",t)},expression:"editForm.birth"}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",loading:e.btnLoading,disabled:e.btnDisabled},on:{click:e.updateUser}},[e._v("確 定")])],1)]),r("el-dialog",{attrs:{center:"",title:"分配角色",visible:e.assignDialogVisible,width:"49%"},on:{"update:visible":function(t){e.assignDialogVisible=t}}},[r("span",[[r("el-transfer",{attrs:{filterable:"",titles:["未擁有","已擁有"],"button-texts":["到左邊","到右邊"],data:e.roles},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})]],2),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"el-icon-close",on:{click:function(t){e.assignDialogVisible=!1}}},[e._v("取消分配")]),r("el-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"user:assign",expression:"'user:assign'"}],staticClass:"el-icon-check",attrs:{type:"primary",loading:e.btnLoading,disabled:e.btnDisabled},on:{click:e.doAssignRoles}},[e._v("確定分配")])],1)])],1)],1)},s=[],n=r("1da1"),i=(r("96cf"),r("8ba4"),r("a9e3"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("9861"),r("bc3a")),l=r.n(i),o={data:function(){var e=function(e,t,r){var a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!t)return r(new Error("郵箱不能為空"));setTimeout((function(){a.test(t)?r():r(new Error("請輸入正確的郵箱格式"))}),100)},t=function(e,t,r){var a=/^1[34578]\d{9}$$/;if(!t)return r(new Error("電話號碼不能為空"));setTimeout((function(){Number.isInteger(+t)?a.test(t)?r():r(new Error("電話號碼格式不正確")):r(new Error("請輸入數字值"))}),100)};return{btnLoading:!1,btnDisabled:!1,departments:[],loading:!0,total:0,addDialogVisible:!1,editDialogVisible:!1,assignDialogVisible:!1,labelPosition:"right",queryMap:{pageNum:1,pageSize:6,username:"",sex:"",nickname:""},userList:[],addForm:{username:"",nickname:"",password:"",email:"",phoneNumber:"",sex:"",birth:""},editForm:{},addFormRules:{username:[{required:!0,message:"請輸入帳號",trigger:"blur"},{min:3,max:10,message:"長度在 3 到 10 個字符",trigger:"blur"}],password:[{required:!0,message:"請輸入密碼",trigger:"blur"},{min:3,max:12,message:"長度在 3 到 12 個字符",trigger:"blur"}],departmentId:[{required:!0,message:"請選擇公司",trigger:"blur"}],sex:[{required:!0,message:"請選擇性別",trigger:"blur"}],birth:[{required:!0,message:"請填寫出生日期",trigger:"blur"}],email:[{required:!0,validator:e,trigger:"blur"}],phoneNumber:[{required:!0,message:"請輸入聯繫方式",validator:t,trigger:"blur"}],nickname:[{required:!0,message:"請輸入名稱",trigger:"blur"},{min:5,max:10,message:"長度在 5 到 10 個字符",trigger:"blur"}]},roles:[],value:[],uid:""}},methods:{reset:function(){this.queryMap={pageNum:1,pageSize:6,username:"",sex:"",nickname:""}},downExcel:function(){var e=this;l.a.request({url:"system/user/excel",method:"post",responseType:"blob"}).then((function(t){if("application/json"===t.headers["content-type"])return e.$message.error("Subject does not have permission [user:export]");var r=t.data,a=window.URL.createObjectURL(r),s=document.createElement("a");document.body.appendChild(s),s.href=a,s.download="用戶列表.xls",s.click(),window.URL.revokeObjectURL(a)}))},assignRoles:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),r.next=3,t.$http.get("system/user/"+e+"/roles");case 3:s=r.sent,n=s.data,n.success?(t.roles=n.data.roles,t.value=n.data.values,t.uid=e,setTimeout((function(){a.close(),t.assignDialogVisible=!0}),400)):t.$message.error("分配角色失敗:"+n.data.errorMsg);case 6:case"end":return r.stop()}}),r)})))()},doAssignRoles:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.assignDialogVisible=!0,e.btnLoading=!0,e.btnDisabled=!0,t.next=5,e.$http.post("system/user/"+e.uid+"/assignRoles",e.value);case 5:r=t.sent,a=r.data,a.success?e.$notify.success({title:"操作成功",message:"用戶分配角色成功"}):e.$message.error("分配角色失敗:"+a.data.errorMsg),e.assignDialogVisible=!1,e.btnLoading=!1,e.btnDisabled=!1;case 11:case"end":return t.stop()}}),t)})))()},getUserList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("system/user/findUserList",{params:e.queryMap});case 2:if(r=t.sent,a=r.data,a.success){t.next=6;break}return t.abrupt("return",e.$message.error("獲取用戶列表失敗:"+a.data.errorMsg));case 6:e.total=a.data.total,e.userList=a.data.rows;case 8:case"end":return t.stop()}}),t)})))()},del:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$confirm("此操作將永久删除該用戶, 是否繼續?","提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).catch((function(){t.$message({type:"info",message:"已取消删除"})}));case 2:if(a=r.sent,"confirm"!==a){r.next=18;break}return r.next=6,t.$http.delete("system/user/delete/"+e);case 6:if(s=r.sent,n=s.data,console.log(n),!n.success){r.next=17;break}return t.$notify.success({title:"操作成功",message:"用戶删除成功"}),r.next=13,t.getUserList();case 13:return r.next=15,t.getDepartmets();case 15:r.next=18;break;case 17:t.$message.error(n.data.errorMsg);case 18:case"end":return r.stop()}}),r)})))()},addUser:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.addFormRef.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=4;break}return t.abrupt("return");case 4:return e.btnLoading=!0,e.btnDisabled=!0,t.next=8,e.$http.post("system/user/add",e.addForm);case 8:if(a=t.sent,s=a.data,!s.success){t.next=19;break}return e.$notify.success({title:"操作成功",message:"用戶新增成功"}),e.addForm={},t.next=15,e.getUserList();case 15:return t.next=17,e.getDepartmets();case 17:t.next=20;break;case 19:return t.abrupt("return",e.$message.error("用戶新增失敗:"+s.data.errorMsg));case 20:e.addDialogVisible=!1,e.btnLoading=!1,e.btnDisabled=!1;case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},updateUser:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.editFormRef.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=4;break}return t.abrupt("return");case 4:return e.btnLoading=!0,e.btnDisabled=!0,t.next=8,e.$http.put("system/user/update/"+e.editForm.id,e.editForm);case 8:if(a=t.sent,s=a.data,!s.success){t.next=19;break}return e.$notify({title:"操作成功",message:"用戶基本信息已更新",type:"success"}),e.editForm={},t.next=15,e.getUserList();case 15:return t.next=17,e.getDepartmets();case 17:t.next=20;break;case 19:e.$message.error("用戶信息更新失敗:"+s.data.errorMsg);case 20:e.editDialogVisible=!1,e.btnLoading=!1,e.btnDisabled=!1;case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},searchUser:function(){this.queryMap.pageNum=1,this.getUserList()},edit:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.get("system/user/edit/"+e);case 2:if(a=r.sent,s=a.data,!s.success){r.next=9;break}t.editForm=s.data,t.editDialogVisible=!0,r.next=10;break;case 9:return r.abrupt("return",t.$message.error("用戶信息編輯失敗:"+s.data.errorMsg));case 10:case"end":return r.stop()}}),r)})))()},handleSizeChange:function(e){this.queryMap.pageSize=e,this.getUserList()},handleCurrentChange:function(e){this.queryMap.pageNum=e,this.getUserList()},closeDialog:function(){this.$refs.addFormRef.clearValidate(),this.addForm.birth="",this.addForm={}},editClose:function(){this.$refs.editFormRef.clearValidate(),this.editForm={}},changUserStatus:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.put("system/user/updateStatus/"+e.id+"/"+e.status);case 2:a=r.sent,s=a.data,s.success?(n=e.status?"用戶狀態已禁用":"用戶狀態已啟用",t.$notify.success({title:"操作成功",message:n})):(t.$message.error("更新用戶狀態失敗:"+s.data.errorMsg),e.status=!e.status);case 5:case"end":return r.stop()}}),r)})))()},getDepartmets:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("system/department/findAll");case 2:if(r=t.sent,a=r.data,a.success){t.next=6;break}return t.abrupt("return",e.$message.error("獲取公司列表失敗:"+a.data.errorMsg));case 6:e.departments=a.data;case 7:case"end":return t.stop()}}),t)})))()},showSex:function(e,t){return 1===e.sex?"帥哥":"美女"}},created:function(){var e=this;this.getUserList(),this.getDepartmets(),setTimeout((function(){e.loading=!1}),500)}},u=o,c=r("2877"),d=Object(c["a"])(u,a,s,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d210a2f.6f8e760a.js.map