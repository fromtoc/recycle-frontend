{"version":3,"sources":["webpack:///./src/views/system/runText.vue?ac49","webpack:///src/views/system/runText.vue","webpack:///./src/views/system/runText.vue?575a","webpack:///./src/views/system/runText.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","path","_v","staticClass","on","search","model","value","queryMap","callback","$$v","$set","expression","slot","directives","name","rawName","$event","addDialogVisible","downExcel","runTextData","getIndex","scopedSlots","_u","key","fn","scope","changeStatus","row","edit","id","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","closeAddDialog","ref","addRuleForm","addRules","btnDisabled","btnLoading","add","editDialogVisible","closeEditDialog","editRuleForm","update","staticRenderFns","data","loading","message","methods","index","getRunTextList","del","$refs","addRuleFormRef","validate","newSize","current","clearValidate","editRuleFormRef","created","setTimeout","component"],"mappings":"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","file":"js/chunk-2d216636.c4f34ada.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"runTexts\"}},[_c('el-breadcrumb',{staticStyle:{\"padding-left\":\"10px\",\"padding-bottom\":\"10px\",\"font-size\":\"12px\"},attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首頁\")]),_c('el-breadcrumb-item',[_vm._v(\"一般設定\")]),_c('el-breadcrumb-item',[_vm._v(\"跑馬燈設定\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"size\":\"small\",\"clearable\":\"\",\"placeholder\":\"請輸入跑馬燈查詢\"},on:{\"clear\":_vm.search},model:{value:(_vm.queryMap.message),callback:function ($$v) {_vm.$set(_vm.queryMap, \"message\", $$v)},expression:\"queryMap.message\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search},slot:\"append\"})],1)],1),_c('div',{staticStyle:{\"float\":\"right\",\"margin-right\":\"20px\"}},[_c('el-button',{directives:[{name:\"hasPermission\",rawName:\"v-hasPermission\",value:('runText:add'),expression:\"'runText:add'\"}],attrs:{\"size\":\"small\",\"type\":\"success\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"新增\")]),_c('el-button',{directives:[{name:\"hasPermission\",rawName:\"v-hasPermission\",value:('runText:export'),expression:\"'runText:export'\"}],attrs:{\"size\":\"small\",\"icon\":\"el-icon-download\"},on:{\"click\":_vm.downExcel}},[_vm._v(\"下載\")])],1)],1),[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"empty-text\":\"暫無數據\",\"border\":\"\",\"size\":\"small\",\"stripe\":\"\",\"data\":_vm.runTextData,\"height\":\"460\"}},[_c('el-table-column',{attrs:{\"label\":\"序號\",\"type\":\"index\",\"index\":_vm.getIndex,\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"message\",\"label\":\"跑馬燈內容\",\"width\":\"1000\"}}),_c('el-table-column',{attrs:{\"prop\":\"isban\",\"label\":\"停用\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.changeStatus(scope.row)}},model:{value:(scope.row.status),callback:function ($$v) {_vm.$set(scope.row, \"status\", $$v)},expression:\"scope.row.status\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"hasPermission\",rawName:\"v-hasPermission\",value:('runText:edit'),expression:\"'runText:edit'\"}],attrs:{\"type\":\"text\",\"size\":\"small\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.edit(scope.row.id)}}},[_vm._v(\"編輯\")])]}}])})],1)],_c('el-pagination',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"background\":\"\",\"current-page\":this.queryMap.pageNum,\"page-sizes\":[7, 10, 15, 20],\"page-size\":this.queryMap.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"新增跑馬燈\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.closeAddDialog}},[_c('span',[_c('el-form',{ref:\"addRuleFormRef\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.addRuleForm,\"rules\":_vm.addRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"跑馬燈內容\",\"prop\":\"message\"}},[_c('el-input',{model:{value:(_vm.addRuleForm.message),callback:function ($$v) {_vm.$set(_vm.addRuleForm, \"message\", $$v)},expression:\"addRuleForm.message\"}})],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.btnDisabled,\"loading\":_vm.btnLoading},on:{\"click\":_vm.add}},[_vm._v(\"確 定\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"編輯跑馬燈\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.closeEditDialog}},[_c('span',[_c('el-form',{ref:\"editRuleFormRef\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.editRuleForm,\"rules\":_vm.addRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"跑馬燈內容\",\"prop\":\"message\"}},[_c('el-input',{model:{value:(_vm.editRuleForm.message),callback:function ($$v) {_vm.$set(_vm.editRuleForm, \"message\", $$v)},expression:\"editRuleForm.message\"}})],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.btnDisabled,\"loading\":_vm.btnLoading},on:{\"click\":_vm.update}},[_vm._v(\"確 定\")])],1)])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"runTexts\">\r\n    <!-- 面包導航 -->\r\n    <el-breadcrumb\r\n      separator=\"/\"\r\n      style=\"padding-left: 10px; padding-bottom: 10px; font-size: 12px\"\r\n    >\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首頁</el-breadcrumb-item>\r\n      <el-breadcrumb-item>一般設定</el-breadcrumb-item>\r\n      <el-breadcrumb-item>跑馬燈設定</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 右側卡片區域 -->\r\n    <!-- 跑馬燈卡片區 -->\r\n    <el-card class=\"box-card\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-input\r\n            size=\"small\"\r\n            clearable\r\n            v-model=\"queryMap.message\"\r\n            placeholder=\"請輸入跑馬燈查詢\"\r\n            @clear=\"search\"\r\n            class=\"input-with-select\"\r\n          >\r\n            <el-button\r\n              slot=\"append\"\r\n              icon=\"el-icon-search\"\r\n              @click=\"search\"\r\n            ></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <div style=\"float: right; margin-right: 20px\">\r\n          <el-button\r\n            size=\"small\"\r\n            v-hasPermission=\"'runText:add'\"\r\n            type=\"success\"\r\n            icon=\"el-icon-circle-plus-outline\"\r\n            @click=\"addDialogVisible = true\"\r\n            >新增</el-button\r\n          >\r\n          <el-button\r\n            size=\"small\"\r\n            icon=\"el-icon-download\"\r\n            v-hasPermission=\"'runText:export'\"\r\n            @click=\"downExcel\"\r\n            >下載</el-button\r\n          >\r\n        </div>\r\n        <!-- <el-col :span=\"2\">\r\n                    <el-button\r\n                            size=\"small\"\r\n                            icon=\"el-icon-download\"\r\n                            v-hasPermission=\"'runText:export'\"\r\n                            @click=\"downExcel\"\r\n                    >導出</el-button>\r\n                </el-col> -->\r\n      </el-row>\r\n      <!-- 表格區域 -->\r\n      <template>\r\n        <el-table\r\n          empty-text=\"暫無數據\"\r\n          border\r\n          size=\"small\"\r\n          v-loading=\"loading\"\r\n          stripe\r\n          :data=\"runTextData\"\r\n          style=\"width: 100%; margin-top: 20px\"\r\n          height=\"460\"\r\n        >\r\n          <el-table-column\r\n            label=\"序號\"\r\n            type=\"index\"\r\n            :index=\"getIndex\"\r\n            width=\"50\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            prop=\"message\"\r\n            label=\"跑馬燈內容\"\r\n            width=\"1000\"\r\n          ></el-table-column>\r\n          <el-table-column prop=\"isban\" label=\"停用\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <el-switch\r\n                v-model=\"scope.row.status\"\r\n                @change=\"changeStatus(scope.row)\"\r\n              ></el-switch>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                v-hasPermission=\"'runText:edit'\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                icon=\"el-icon-edit\"\r\n                @click=\"edit(scope.row.id)\"\r\n                >編輯</el-button\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </template>\r\n      <!-- 分頁 -->\r\n      <el-pagination\r\n        style=\"margin-top: 10px\"\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"this.queryMap.pageNum\"\r\n        :page-sizes=\"[7, 10, 15, 20]\"\r\n        :page-size=\"this.queryMap.pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      ></el-pagination>\r\n      <!-- 跑馬燈新增彈出框 -->\r\n      <el-dialog\r\n        title=\"新增跑馬燈\"\r\n        :visible.sync=\"addDialogVisible\"\r\n        width=\"50%\"\r\n        @close=\"closeAddDialog\"\r\n      >\r\n        <span>\r\n          <el-form\r\n            :model=\"addRuleForm\"\r\n            :rules=\"addRules\"\r\n            ref=\"addRuleFormRef\"\r\n            label-width=\"100px\"\r\n            class=\"demo-ruleForm\"\r\n          >\r\n            <el-form-item label=\"跑馬燈內容\" prop=\"message\">\r\n              <el-input v-model=\"addRuleForm.message\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </span>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"add\"\r\n            :disabled=\"btnDisabled\"\r\n            :loading=\"btnLoading\"\r\n            >確 定</el-button\r\n          >\r\n        </span>\r\n      </el-dialog>\r\n\r\n      <!-- 跑馬燈編輯彈出框 -->\r\n      <el-dialog\r\n        title=\"編輯跑馬燈\"\r\n        :visible.sync=\"editDialogVisible\"\r\n        width=\"50%\"\r\n        @close=\"closeEditDialog\"\r\n      >\r\n        <span>\r\n          <el-form\r\n            :model=\"editRuleForm\"\r\n            :rules=\"addRules\"\r\n            ref=\"editRuleFormRef\"\r\n            label-width=\"100px\"\r\n            class=\"demo-ruleForm\"\r\n          >\r\n            <el-form-item label=\"跑馬燈內容\" prop=\"message\">\r\n              <el-input v-model=\"editRuleForm.message\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </span>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"update\"\r\n            :disabled=\"btnDisabled\"\r\n            :loading=\"btnLoading\"\r\n            >確 定</el-button\r\n          >\r\n        </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      btnLoading: false,\r\n      btnDisabled: false,\r\n      loading: true,\r\n      editDialogVisible: false,\r\n      addDialogVisible: false, //新增彈框是否顯示\r\n      total: 0, //總共多少條數據\r\n      runTextData: [], //表格數據\r\n      queryMap: { pageNum: 1, pageSize: 7, name: \"\" }, //查詢對象\r\n      addRuleForm: {}, //新增表單數據\r\n      editRuleForm: {}, //修改表單數據\r\n      addRules: {\r\n        message: [\r\n          { required: true, message: \"請輸入跑馬燈內容\", trigger: \"blur\" },\r\n          {\r\n            max: 100,\r\n            message: \"長度最多 100 個字符\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      }, //新增驗證\r\n    };\r\n  },\r\n  methods: {\r\n    getIndex(index) {\r\n      return (this.queryMap.pageNum - 1) * this.queryMap.pageSize + index + 1;\r\n    },\r\n    /**\r\n     * 加載跑馬燈表格\r\n     */\r\n    downExcel() {\r\n      const $this = this;\r\n      const res = axios\r\n        .request({\r\n          url: \"system/runText/excel\",\r\n          method: \"post\",\r\n          responseType: \"blob\",\r\n        })\r\n        .then((res) => {\r\n          if (res.headers[\"content-type\"] === \"application/json\") {\r\n            return $this.$message.error(\r\n              \"Subject does not have permission [runText:export]\"\r\n            );\r\n          }\r\n          const data = res.data;\r\n          let url = window.URL.createObjectURL(data); // 將二進制文件轉化為可訪問的url\r\n          var a = document.createElement(\"a\");\r\n          document.body.appendChild(a);\r\n          a.href = url;\r\n          a.download = \"跑馬燈列表.xls\";\r\n          a.click();\r\n          window.URL.revokeObjectURL(url);\r\n        });\r\n    },\r\n    /**\r\n     * 搜索跑馬燈\r\n     */\r\n    search() {\r\n      this.queryMap.pageNum = 1;\r\n      this.getRunTextList();\r\n    },\r\n    /**\r\n     * 删除跑馬燈\r\n     */\r\n    del: async function (id) {\r\n      let res = await this.$confirm(\r\n        \"此操作將永久删除該用戶, 是否繼續?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"確定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch(() => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消删除\",\r\n        });\r\n      });\r\n      if (\"confirm\" === res) {\r\n        const { data: res } = await this.$http.delete(\r\n          \"system/runText/delete/\" + id\r\n        );\r\n        if (res.success) {\r\n          this.$message.success(\"跑馬燈删除成功\");\r\n          await this.getRunTextList();\r\n        } else {\r\n          this.$message.error(res.data.errorMsg);\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * 更新用戶類型\r\n     */\r\n    update: async function () {\r\n      this.$refs.editRuleFormRef.validate(async (valid) => {\r\n        if (!valid) {\r\n          return;\r\n        } else {\r\n          (this.btnLoading = true), (this.btnDisabled = true);\r\n          const { data: res } = await this.$http.put(\r\n            \"system/runText/update/\" + this.editRuleForm.id,\r\n            this.editRuleForm\r\n          );\r\n          if (res.success) {\r\n            this.$notify({\r\n              title: \"成功\",\r\n              message: \"跑馬燈信息更新\",\r\n              type: \"success\",\r\n            });\r\n            await this.getRunTextList();\r\n          } else {\r\n            this.$message.error(\"跑馬燈信息更新失敗\");\r\n          }\r\n          this.editRuleForm = {};\r\n          this.btnDisabled = false;\r\n          this.btnLoading = false;\r\n          this.editDialogVisible = false;\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 編輯\r\n     * @param {Object} id\r\n     */\r\n    edit: async function (id) {\r\n      const { data: res } = await this.$http.get(\"system/runText/edit/\" + id);\r\n      if (res.success) {\r\n        this.editRuleForm = res.data;\r\n      } else {\r\n        return this.$message.error(\"跑馬燈內容編輯失敗\" + res.data.errorMsg);\r\n      }\r\n      this.editDialogVisible = true;\r\n    },\r\n    //新增\r\n    add: function () {\r\n      this.$refs.addRuleFormRef.validate(async (valid) => {\r\n        if (!valid) {\r\n          return;\r\n        } else {\r\n          (this.btnLoading = true), (this.btnDisabled = true);\r\n          const { data: res } = await this.$http.post(\r\n            \"system/runText/add\",\r\n            this.addRuleForm\r\n          );\r\n          if (res.success) {\r\n            this.$message.success(\"跑馬燈新增成功\");\r\n            this.addRuleForm = {};\r\n            await this.getRunTextList();\r\n          } else {\r\n            return this.$message.error(\"跑馬燈新增失敗:\" + res.data.errorMsg);\r\n          }\r\n          this.addDialogVisible = false;\r\n          (this.btnLoading = false), (this.btnDisabled = false);\r\n        }\r\n      });\r\n    },\r\n    //加載跑馬燈列表\r\n    async getRunTextList() {\r\n      const { data: res } = await this.$http.get(\"system/runText/findByPage\", {\r\n        params: this.queryMap,\r\n      });\r\n      if (!res.success) {\r\n        return this.$message.error(\"獲取跑馬燈列表失敗:\" + res.data.errorMsg);\r\n      } else {\r\n        this.total = res.data.total;\r\n        this.runTextData = res.data.rows;\r\n      }\r\n    },\r\n    /**\r\n     * 禁用啟用跑馬燈\r\n     */\r\n    async changeStatus(row) {\r\n      const { data: res } = await this.$http.put(\r\n        \"system/runText/updateStatus/\" + row.id + \"/\" + row.status\r\n      );\r\n      if (!res.success) {\r\n        this.$message.error(\"更新跑馬燈狀態失敗:\" + res.data.errorMsg);\r\n        row.status = !row.status;\r\n      } else {\r\n        const message = row.status ? \"跑馬燈狀態已禁用\" : \"跑馬燈狀態已啟用\";\r\n        this.$notify.success({\r\n          title: \"操作成功\",\r\n          message: message,\r\n        });\r\n      }\r\n    },\r\n    //改變頁碼\r\n    handleSizeChange(newSize) {\r\n      this.queryMap.pageSize = newSize;\r\n      this.getRunTextList();\r\n    },\r\n    //翻頁\r\n    handleCurrentChange(current) {\r\n      this.queryMap.pageNum = current;\r\n      this.getRunTextList();\r\n    },\r\n    //關閉彈出框\r\n    closeAddDialog() {\r\n      this.$refs.addRuleFormRef.clearValidate();\r\n      this.addRuleForm = {};\r\n    },\r\n    //關閉彈出框\r\n    closeEditDialog() {\r\n      this.$refs.editRuleFormRef.clearValidate();\r\n      this.editRuleForm = {};\r\n    },\r\n  },\r\n  created() {\r\n    this.getRunTextList();\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n    }, 500);\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./runText.vue?vue&type=template&id=73f264da&\"\nimport script from \"./runText.vue?vue&type=script&lang=js&\"\nexport * from \"./runText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}